哈利波特阅读器 - 开发计划 (Development Plan)

1. 核心目标

构建一个交互式的哈利波特英语阅读工具，通过文本高亮、词汇解释、句子分析和音文同步功能，帮助学习者高效地进行英语原版书的深度阅读和学习。

2. 功能需求 (Functional Requirements)

2.1. 界面布局 (UI Layout)

采用左右分栏的响应式布局：

左侧 (占页面宽度的 75%): 作为主阅读区，用于展示文章正文。

右侧 (占页面宽度的 25%): 作为信息详情区，用于展示词汇、短语和句子的详细解释。

2.2. 内容解析与展示 (Content Parsing & Display)

程序需要能够解析 chapter1 content.txt 文件，并根据以下关键字提取内容并渲染到页面左侧：

[章]: 提取为章节大标题。

[段]: 提取为正文段落。

[译]: 提取为对应 [段] 的中文翻译。

2.3. 重点内容高亮与交互 (Highlighting & Interaction)

程序需要提取特定标记的内容，并在界面上实现高亮和交互功能。

生词 ([词]):

高亮: 在左侧文章区，所有生词用 浅粉色 背景高亮。

悬停 (Hover): 鼠标悬停在高亮的生词上时，出现一个简洁的提示框（Tooltip），只显示该单词的中文释义。

点击 (Click): 点击高亮的生词，右侧信息区自动滚动并定位到该词的详细信息卡片。

右侧详情格式: [词] 单词 (中文) [音标] (词性): 详细释义

目标数量: 约 397 个。

短语 ([短]):

高亮: 在左侧文章区，所有短语用 浅蓝色 背景高亮。

悬停 (Hover): 鼠标悬停在高亮的短语上时，提示框显示中文释义。

点击 (Click): 点击高亮的短语，右侧信息区自动滚动并定位到该短语的详细信息卡片。

右侧详情格式: [短] 短语内容: 中文翻译 (解释说明)

目标数量: 约 157 个。

句子 ([句]):

高亮: 在左侧文章区，所有重点句子用 浅黄色 背景高亮。

悬停 (Hover): 鼠标悬停在高亮的句子上时，提示框显示完整的中文翻译。

点击 (Click): 点击高亮的句子，右侧信息区自动滚动并定位到该句子的详细信息卡片。

右侧详情格式:

[句] 英文句子
"中文翻译"
[用法说明] 详细的用法解释和说明


目标数量: 约 50 个。

2.4. 音频同步 (Audio Synchronization)

音频源: 程序需要能够加载并播放 audio/chapter1.mp3 文件。

段落关联: 根据下面提供的时间戳数据，将音频播放进度与文章的各个段落进行精确关联。

播放控制: 当用户点击左侧文章区的任意一个 [段] 时，音频播放器应自动从该段落对应的起始时间点开始播放。

音频时间戳数据 (Audio Timestamps)

// 共记录了 108 个段落的时间戳
const timeStamps = [
    [0, 34],      // 第1段, 开始于 0:00, 结束于 0:34
    [34, 49],     // 第2段, 开始于 0:34, 结束于 0:49
    [49, 77],     // 第3段, 开始于 0:49, 结束于 1:17
    [77, 121],    // 第4段, 开始于 1:17, 结束于 2:01
    [121, 142],   // 第5段, 开始于 2:01, 结束于 2:22
    [142, 147],   // 第6段, 开始于 2:22, 结束于 2:27
    [147, 168],   // 第7段, 开始于 2:27, 结束于 2:48
    [168, 221],   // 第8段, 开始于 2:48, 结束于 3:41
    [221, 285],   // 第9段, 开始于 3:41, 结束于 4:45
    [285, 329],   // 第10段, 开始于 4:45, 结束于 5:29
    [329, 351],   // 第11段, 开始于 5:29, 结束于 5:51
    [351, 357],   // 第12段, 开始于 5:51, 结束于 5:57
    [357, 366],   // 第13段, 开始于 5:57, 结束于 6:06
    [366, 409],   // 第14段, 开始于 6:06, 结束于 6:49
    [409, 420],   // 第15段, 开始于 6:49, 结束于 7:00
    [420, 453],   // 第16段, 开始于 7:00, 结束于 7:33
    [453, 457],   // 第17段, 开始于 7:33, 结束于 7:37
    [457, 478],   // 第18段, 开始于 7:37, 结束于 7:58
    [478, 493],   // 第19段, 开始于 7:58, 结束于 8:13
    [493, 510],   // 第20段, 开始于 8:13, 结束于 8:30
    [510, 531],   // 第21段, 开始于 8:30, 结束于 8:51
    [531, 566],   // 第22段, 开始于 8:51, 结束于 9:26
    [566, 594],   // 第23段, 开始于 9:26, 结束于 9:54
    [594, 607],   // 第24段, 开始于 9:54, 结束于 10:07
    [607, 622],   // 第25段, 开始于 10:07, 结束于 10:22
    [622, 629],   // 第26段, 开始于 10:22, 结束于 10:29
    [629, 632],   // 第27段, 开始于 10:29, 结束于 10:32
    [632, 642],   // 第28段, 开始于 10:32, 结束于 10:42
    [642, 645],   // 第29段, 开始于 10:42, 结束于 10:45
    [645, 652],   // 第30段, 开始于 10:45, 结束于 10:52
    [652, 670],   // 第31段, 开始于 10:52, 结束于 11:10
    [670, 674],   // 第32段, 开始于 11:10, 结束于 11:14
    [674, 678],   // 第33段, 开始于 11:14, 结束于 11:18
    [678, 681],   // 第34段, 开始于 11:18, 结束于 11:21
    [681, 688],   // 第35段, 开始于 11:21, 结束于 11:28
    [688, 705],   // 第36段, 开始于 11:28, 结束于 11:45
    [705, 718],   // 第37段, 开始于 11:45, 结束于 11:58
    [718, 750],   // 第38段, 开始于 11:58, 结束于 12:30
    [750, 754],   // 第39段, 开始于 12:30, 结束于 12:34
    [754, 781],   // 第40段, 开始于 12:34, 结束于 13:01
    [781, 794],   // 第41段, 开始于 13:01, 结束于 13:14
    [794, 828],   // 第42段, 开始于 13:14, 结束于 13:48
    [828, 856],   // 第43段, 开始于 13:48, 结束于 14:16
    [856, 905],   // 第44段, 开始于 14:16, 结束于 15:05
    [905, 910],   // 第45段, 开始于 15:05, 结束于 15:10
    [910, 932],   // 第46段, 开始于 15:10, 结束于 15:32
    [932, 935],   // 第47段, 开始于 15:32, 结束于 15:35
    [935, 941],   // 第48段, 开始于 15:35, 结束于 15:41
    [941, 946],   // 第49段, 开始于 15:41, 结束于 15:46
    [946, 955],   // 第50段, 开始于 15:46, 结束于 15:55
    [955, 957],   // 第51段, 开始于 15:55, 结束于 15:57
    [957, 986],   // 第52段, 开始于 15:57, 结束于 16:26
    [986, 994],   // 第53段, 开始于 16:26, 结束于 16:34
    [994, 1009],  // 第54段, 开始于 16:34, 结束于 16:49
    [1009, 1030], // 第55段, 开始于 16:49, 结束于 17:10
    [1030, 1039], // 第56段, 开始于 17:10, 结束于 17:19
    [1039, 1041], // 第57段, 开始于 17:19, 结束于 17:21
    [1041, 1046], // 第58段, 开始于 17:21, 结束于 17:26
    [1046, 1056], // 第59段, 开始于 17:26, 结束于 17:36
    [1056, 1089], // 第60段, 开始于 17:36, 结束于 18:09
    [1089, 1104], // 第61段, 开始于 18:09, 结束于 18:24
    [1104, 1111], // 第62段, 开始于 18:24, 结束于 18:31
    [1111, 1117], // 第63段, 开始于 18:31, 结束于 18:37
    [1117, 1125], // 第64段, 开始于 18:37, 结束于 18:45
    [1125, 1139], // 第65段, 开始于 18:45, 结束于 18:59
    [1139, 1168], // 第66段, 开始于 18:59, 结束于 19:28
    [1168, 1186], // 第67段, 开始于 19:28, 结束于 19:46
    [1186, 1191], // 第68段, 开始于 19:46, 结束于 19:51
    [1191, 1198], // 第69段, 开始于 19:51, 结束于 19:58
    [1198, 1206], // 第70段, 开始于 19:58, 结束于 20:06
    [1206, 1230], // 第71段, 开始于 20:06, 结束于 20:30
    [1230, 1233], // 第72段, 开始于 20:30, 结束于 20:33
    [1233, 1251], // 第73段, 开始于 20:33, 结束于 20:51
    [1251, 1256], // 第74段, 开始于 20:51, 结束于 20:56
    [1256, 1286], // 第75段, 开始于 20:56, 结束于 21:26
    [1286, 1294], // 第76段, 开始于 21:26, 结束于 21:34
    [1294, 1301], // 第77段, 开始于 21:34, 结束于 21:41
    [1301, 1326], // 第78段, 开始于 21:41, 结束于 22:06
    [1326, 1336], // 第79段, 开始于 22:06, 结束于 22:16
    [1336, 1362], // 第80段, 开始于 22:16, 结束于 22:42
    [1362, 1386], // 第81段, 开始于 22:42, 结束于 23:06
    [1386, 1403], // 第82段, 开始于 23:06, 结束于 23:23
    [1403, 1405], // 第83段, 开始于 23:23, 结束于 23:25
    [1405, 1411], // 第84段, 开始于 23:25, 结束于 23:31
    [1411, 1415], // 第85段, 开始于 23:31, 结束于 23:35
    [1415, 1426], // 第86段, 开始于 23:35, 结束于 23:46
    [1426, 1443], // 第87段, 开始于 23:46, 结束于 24:03
    [1443, 1476], // 第88段, 开始于 24:03, 结束于 24:36
    [1476, 1485], // 第89段, 开始于 24:36, 结束于 24:45
    [1485, 1496], // 第90段, 开始于 24:45, 结束于 24:56
    [1496, 1498], // 第91段, 开始于 24:56, 结束于 24:58
    [1498, 1509], // 第92段, 开始于 24:58, 结束于 25:09
    [1509, 1525], // 第93段, 开始于 25:09, 结束于 25:25
    [1525, 1529], // 第94段, 开始于 25:25, 结束于 25:29
    [1529, 1534], // 第95段, 开始于 25:29, 结束于 25:34
    [1534, 1537], // 第96段, 开始于 25:34, 结束于 25:37
    [1537, 1553], // 第97段, 开始于 25:37, 结束于 25:53
    [1553, 1558], // 第98段, 开始于 25:53, 结束于 25:58
    [1558, 1574], // 第99段, 开始于 25:58, 结束于 26:14
    [1574, 1578], // 第100段, 开始于 26:14, 结束于 26:18
    [1578, 1593], // 第101段, 开始于 26:18, 结束于 26:33
    [1593, 1630], // 第102段, 开始于 26:33, 结束于 27:10
    [1630, 1639], // 第103段, 开始于 27:10, 结束于 27:19
    [1639, 1649], // 第104段, 开始于 27:19, 结束于 27:29
    [1649, 1661], // 第105段, 开始于 27:29, 结束于 27:41
    [1661, 1671], // 第106段, 开始于 27:41, 结束于 27:51
    [1671, 1693], // 第107段, 开始于 27:51, 结束于 28:13
    [1693, 1702], // 第108段, 开始于 28:13, 结束于 28:22
];


2.5. 用户控件 (User Controls)

翻译显隐: 在左侧文章区的顶部，提供一个全局控制选项（例如一个开关按钮），允许用户一键显示或隐藏所有段落的 [译] 中文翻译内容，以方便进行纯英文阅读或中英对照学习。